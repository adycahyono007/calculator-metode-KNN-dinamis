function pageUrlHandler(t) {
	return null === t.slice(-1).match(/^[a-zA-Z]+$/)
		? { url: t.slice(0, -1), status: !1 }
		: { url: t, status: !0 };
}
function getPageUrl() {
	let t = $(location).attr("href"),
		e = !1;
	for (; !1 === e; ) {
		let r = pageUrlHandler(t);
		(e = r.status), (t = r.url);
	}
	return t;
}
String.prototype.escape = function () {
	let t = { "&": "&amp;", "<": "&lt;", ">": "&gt;" };
	return this.replace(/[&<>]/g, (e) => t[e] || e);
};
const BASE_URL = $('meta[name="url"]').attr("content"),
	PAGE_URL = getPageUrl();
let csrfName = $(".csrf").attr("data-name"),
	csrfHash = $(".csrf").attr("data-hash"),
	onSubmit = !1;
$("form").submit(function (t) {
	if (onSubmit)
		return (
			t.preventDefault(),
			void $(this).find('button[type="submit"]').attr("type", "button")
		);
	onSubmit = !0;
});
