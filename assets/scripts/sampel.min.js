async function getData(a) {
	let e;
	try {
		return (e = await $.ajax({
			url: `${BASE_URL}sampel/getById`,
			type: "GET",
			data: { id: a },
			dataType: "json",
		}));
	} catch (a) {}
}
function errorHandler() {
	setTimeout(() => {
		$("#edit-modal").modal("hide"),
			$("#content").before(
				'\n            <div class="row">\n                <div class="col-md-12">\n                    <div class="alert alert-danger alert-dismissible fade show" role="alert">\n                        <strong>Error.</strong>\n                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        '
			);
	}, 500);
}
async function editModalHandler(a) {
	editLoader(!0), $("#edit-modal").modal("show");
	const e = await getData(a);
	e
		? ($.each(e, (a, e) => {
				$(`#edit-form input[name="nilai[${e.id_variabel}]"]`).val(e.nilai);
		  }),
		  $("#edit-form").attr("action", `${BASE_URL}sampel/${a}`),
		  editLoader(!1))
		: errorHandler();
}
function editLoader(a) {
	a
		? ($("#edit-loader").addClass("d-flex"),
		  $("#edit-loader").removeClass("d-none"))
		: ($("#edit-loader").removeClass("d-flex"),
		  $("#edit-loader").addClass("d-none"));
}
$("#datatable-table").DataTable(),
	$("body").on("click", ".edit-btn", function () {
		editModalHandler($(this).data("id"));
	});
